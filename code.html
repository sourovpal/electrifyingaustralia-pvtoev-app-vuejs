<script>
    export default {
        props: {
            modelValue:{},
            type:{default:'checkbox'},
            value:{default:''},
        },
        computed:{
            model:{
                get(e) {
                    return this.value;
                },
                set(value) {
                    if(typeof this.modelValue === 'object'){
                        var index = this.modelValue.indexOf(this.value);
                        if(index > -1){
                            this.modelValue.splice(index, 1);
                        }else{
                            this.modelValue.push(this.value);
                            this.$emit('update:modelValue', this.modelValue);
                        }
                    }else{
                        this.$emit('update:modelValue', this.value);
                    }
                },
            },
        },
    };
    </script>

<template>
    <label class="custom-form-checkbox btn btn-floating btn-light">
        <input :type="type" :value="value" v-model="model">
        <svg class="unchecked" xmlns="http://www.w3.org/2000/svg" fill="currentColor" height="24" viewBox="0 -960 960 960" width="24"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Z"/></svg>
        <svg class="checked" xmlns="http://www.w3.org/2000/svg" fill="currentColor" height="24" viewBox="0 -960 960 960" width="24"><path d="m424-312 282-282-56-56-226 226-114-114-56 56 170 170ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg>
        <!-- <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path d="M280-440h400v-80H280v80Zm-80 320q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg> -->
    </label>
</template>


<style lang="scss" scoped>
    .custom-form-checkbox{
        color:#8e8e8e !important;
        position:relative;
        display: flex !important;
        justify-content: center !important;
        align-items: center;
        input{
            display: none;
        }
        .unchecked{
            display: block;
        }
        .checked{
            display: none;
        }
        input:checked ~ .unchecked {
            display: none;
        }
        input:checked ~ .checked {
            display: block;
        }
    }
</style>